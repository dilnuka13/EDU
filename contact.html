<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Contact Us</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sinhala:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        // Initialize EmailJS with your User ID
        // Ensure 'service_dmfo24a' and 'template_btqkn97' are correctly set up in your EmailJS dashboard.
        (function() {
            emailjs.init('yEU4ZKDB4pOIFa-rZ'); // Your EmailJS user ID
        })();
    </script>
    <style>
        @media (max-width: 768px) {
    /* Mobile specific styles */
    .your-custom-class {
        font-size: 14px;
        padding: 10px;
        /* Add more mobile-specific styles here */
    }
}
        /* Base body and font styles */
        body { 
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
            color: #333;
        }
        .sinhala { font-family: 'Noto Sinhala', sans-serif; }

        /* Gradient for header and footer */
        .gradient-header {
            background: linear-gradient(135deg, #047857 0%, #065f46 100%);
        }

        /* Card hover effects */
        .card-hover {
            transition: all 0.3s ease;
            transform: translateY(0);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        /* Contact icon wrapper styles with hover */
        .contact-icon-wrapper {
            background-color: #d1fae5;
            color: #047857;
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        .contact-icon-wrapper:hover {
            transform: scale(1.1);
            background-color: #a7f3d0;
        }

        /* Message display styles with transition for fade-in/out */
        #successMessage, #errorMessage {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        #successMessage.show, #errorMessage.show {
            opacity: 1;
            display: block; /* Ensure it's displayed when 'show' class is added */
        }

        /* Input and textarea focus styles */
        input[type="text"], input[type="email"], textarea {
            transition: all 0.2s ease-in-out;
        }
        input[type="text"]:focus, input[type="email"]:focus, textarea:focus {
            border-color: #047857;
            box-shadow: 0 0 0 3px rgba(4, 120, 87, 0.3);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <header class="gradient-header text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div class="animate__animated animate__fadeInLeft">
                    <h1 class="text-3xl md:text-4xl font-bold" id="headerTitle">A/L Past Papers & Marking Schemes</h1>
                    <p class="mt-2 text-emerald-100" id="headerSubtitle">Contact Us</p>
                </div>
                <button id="langToggle" class="bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-md text-sm font-medium transition-colors animate__animated animate__fadeInRight">
                    සිංහල
                </button>
            </div>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8">
        <div class="animate__animated animate__fadeIn">
            <h2 class="text-2xl md:text-3xl font-bold text-emerald-800 mb-8 text-center" id="contactTitle">Get In Touch</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <div class="bg-white p-6 rounded-xl shadow-md card-hover">
                    <h3 class="text-xl font-semibold text-emerald-800 mb-6" id="infoTitle">Contact Information</h3>
                    
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="contact-icon-wrapper p-3 rounded-full mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" />
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-800" id="emailLabel">Email</h4>
                                <p class="text-gray-600">isaradilnuka@gmail.com</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="contact-icon-wrapper p-3 rounded-full mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-800" id="phoneLabel">Phone</h4>
                                <p class="text-gray-600">+94 76 416 4804</p> </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="contact-icon-wrapper p-3 rounded-full mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-medium text-gray-800" id="addressLabel">Address</h4>
                                <p class="text-gray-600">Horana, Sri Lanka 12400</p>
                            </div>
                        </div>

                        <div class="flex justify-center mt-6">
                            <a href="https://dilnuka13.github.io/my/" target="_blank" class="w-full bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                                </svg>
                                <span id="creatorContactBtnText">Contact Page Creator</span>
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-xl shadow-md card-hover">
                    <h3 class="text-xl font-semibold text-emerald-800 mb-6" id="formTitle">Send Us a Message</h3>
                    
                    <div id="successMessage" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4" role="alert">
                        <span id="successText">Your message has been sent successfully!</span>
                    </div>
                    
                    <div id="errorMessage" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4" role="alert">
                        <span id="errorText">There was an error sending your message. Please try again later.</span>
                    </div>
                    
                    <form id="contactForm" class="space-y-4">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700 mb-1" id="nameLabel">Your Name</label>
                            <input type="text" id="name" name="name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500">
                        </div>
                        
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1" id="emailLabel2">Email Address</label>
                            <input type="email" id="email" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500">
                        </div>
                        
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700 mb-1" id="messageLabel">Message</label>
                            <textarea id="message" name="message" rows="4" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"></textarea>
                        </div>
                        
                        <button type="submit" id="submitBtn" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center relative overflow-hidden">
                            <span id="submitText">Send Message</span>
                            <svg id="submitSpinner" class="animate-spin -mr-1 ml-2 h-5 w-5 text-white absolute hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <footer class="gradient-header text-white py-6">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-xl font-bold">EduPapers.lk</h3>
                    <p class="text-emerald-100 mt-1" id="footerText">© 2025 A/L Past Papers. All rights reserved.</p>
                </div>
                <div class="flex space-x-6">
                    <a href="index.html" class="text-emerald-100 hover:text-white transition-colors" id="homeLink">Home</a>
                    <a href="stream.html" class="text-emerald-100 hover:text-white transition-colors" id="streamLink">Stream</a>
                    <a href="subject.html" class="text-emerald-100 hover:text-white transition-colors" id="subjectLink">Subject</a>
                    <a href="quizzes.html" class="text-emerald-100 hover:text-white transition-colors" id="contactLink">Quizzes</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Translations object for multilingual support
        const translations = {
            en: {
                pageTitle: "Contact Us - A/L Past Papers",
                headerTitle: "A/L Past Papers & Marking Schemes",
                headerSubtitle: "Contact Us",
                contactTitle: "Get In Touch",
                infoTitle: "Contact Information",
                emailLabel: "Email",
                phoneLabel: "Phone",
                addressLabel: "Address",
                creatorContactBtnText: "Contact Page Creator", // Added for the new button
                formTitle: "Send Us a Message",
                nameLabel: "Your Name",
                emailLabel2: "Email Address",
                messageLabel: "Message",
                submitText: "Send Message",
                successText: "Your message has been sent successfully!",
                errorText: "There was an error sending your message. Please try again later.",
                footerText: "© 2025 A/L Past Papers. All rights reserved.",
                homeLink: "Home",
                streamLink: "Stream",
                subjectLink: "Subject"
            },
            si: {
                pageTitle: "අප අමතන්න - උසස් පෙළ පසුගිය ප්‍රශ්න පත්ර",
                headerTitle: "උසස් පෙළ පසුගිය ප්‍රශ්න පත්ර හා ලකුණු ලේඛන",
                headerSubtitle: "අප අමතන්න",
                contactTitle: "අප හා සම්බන්ධ වන්න",
                infoTitle: "සම්බන්ධතා තොරතුරු",
                emailLabel: "ඊමේල්",
                phoneLabel: "දුරකථන",
                addressLabel: "ලිපිනය",
                creatorContactBtnText: "පිටුව නිර්මාණය කළ පුද්ගලයා අමතන්න", // Added for the new button
                formTitle: "පණිවිඩයක් යවන්න",
                nameLabel: "ඔබේ නම",
                emailLabel2: "ඊමේල් ලිපිනය",
                messageLabel: "පණිවිඩය",
                submitText: "පණිවිඩය යවන්න",
                successText: "ඔබගේ පණිවිඩය සාර්ථකව යවන ලදී!",
                errorText: "පණිවිඩය යවන අතරතුර දෝෂයක් ඇතිවිය. කරුණාකර පසුව නැවත උත්සාහ කරන්න.",
                footerText: "© 2025 උසස් පෙළ පසුගිය ප්‍රශ්න පත්ර. සියලු හිමිකම් ඇවිරිණි.",
                homeLink: "මුල් පිටුව",
                streamLink: "විෂය ධාරා",
                subjectLink: "විෂයන්"
            }
        };

        let currentLang = 'en'; // Default language

        // Function to toggle language
        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'si' : 'en';
            document.getElementById('langToggle').textContent = currentLang === 'en' ? 'සිංහල' : 'English';
            document.querySelector('html').classList.toggle('sinhala', currentLang === 'si');
            updateContent(); // Update all dynamic content
        }

        // Function to update all text content based on current language
        function updateContent() {
            const t = translations[currentLang];
            document.getElementById('pageTitle').textContent = t.pageTitle;
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('headerSubtitle').textContent = t.headerSubtitle;
            document.getElementById('contactTitle').textContent = t.contactTitle;
            document.getElementById('infoTitle').textContent = t.infoTitle;
            document.getElementById('emailLabel').textContent = t.emailLabel;
            document.getElementById('phoneLabel').textContent = t.phoneLabel;
            document.getElementById('addressLabel').textContent = t.addressLabel;
            document.getElementById('creatorContactBtnText').textContent = t.creatorContactBtnText; // Update new button text
            document.getElementById('formTitle').textContent = t.formTitle;
            document.getElementById('nameLabel').textContent = t.nameLabel;
            document.getElementById('emailLabel2').textContent = t.emailLabel2;
            document.getElementById('messageLabel').textContent = t.messageLabel;
            document.getElementById('submitText').textContent = t.submitText;
            document.getElementById('successText').textContent = t.successText;
            document.getElementById('errorText').textContent = t.errorText;
            document.getElementById('footerText').textContent = t.footerText;
            document.getElementById('homeLink').textContent = t.homeLink;
            document.getElementById('streamLink').textContent = t.streamLink;
            document.getElementById('subjectLink').textContent = t.subjectLink;
        }

        // EmailJS Form Handling
        document.getElementById('contactForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission
            
            const submitBtn = document.getElementById('submitBtn');
            const submitText = document.getElementById('submitText');
            const spinner = document.getElementById('submitSpinner');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            // Hide previous messages and reset their visibility
            successMessage.classList.remove('show');
            errorMessage.classList.remove('show');
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';

            // Show loading spinner and disable button during submission
            submitBtn.disabled = true;
            submitText.classList.add('hidden');
            spinner.classList.remove('hidden');
            
            // Send the email using EmailJS
            emailjs.sendForm('service_dmfo24a', 'template_btqkn97', this)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    successMessage.style.display = 'block'; // Make element visible
                    setTimeout(() => successMessage.classList.add('show'), 10); // Trigger fade-in transition
                    document.getElementById('contactForm').reset(); // Reset form fields on success
                }, function(error) {
                    console.log('FAILED...', error);
                    errorMessage.style.display = 'block'; // Make element visible
                    setTimeout(() => errorMessage.classList.add('show'), 10); // Trigger fade-in transition
                })
                .finally(function() {
                    // Hide loading spinner and re-enable button regardless of success/failure
                    submitBtn.disabled = false;
                    submitText.classList.remove('hidden');
                    spinner.classList.add('hidden');
                });
        });

        // Event listeners for initial page load and language toggle
        document.addEventListener('DOMContentLoaded', () => {
            updateContent(); // Initial content update
        });
        document.getElementById('langToggle').addEventListener('click', toggleLanguage);
    </script>
</body>
</html>